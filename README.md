primalspec
============

CSPMベースの原始的な状態遷移モデル記述言語(原始的: 並行合成と非決定性が扱えない)


使い方
----------

```
prsp sample/vm.csp
```


注意点
----------

* 並行合成、内部選択、リネーム、隠蔽等は提供しない
* 詳細化もほぼ未サポート。[T= はあるが、右辺がペイロードの値が特定可能なイベントとPrefix演算子とSKIPのみで構成されている必要がある
* P = P や P = P [] Q のようなPrefix演算子を挟まない再帰的な式を評価するとstack overflow エラーが発生する
* datatypeでレコードも扱えるがHaskellのlensライクにアクセスする必要がある
* 特別なイベントload/storeが用意されていて、グローバル変数のアクセサとして利用出来る(型はGlobalという名前である必要がある)
    * load/storeは暗黙的に隠蔽される為、詳細化等でのチェックは出来ない

todo
-----------

* テストレコード再帰的なフィールドへのアクセス
* Loc Stringやめる
* P = Q; P は許す
* デバッグしやすくする
    * プログラムのprettyprint
    * 式のprettyprinter pretty-simple
    * レコードのprettyprint

〜ここまではやる?

* 設計見直してリファクタかける
* モジュール分割
* パラメーター多相入れる
* 集合とリスト扱えるようにする
* 型を集合として扱えるようにする
* 検証器作る

